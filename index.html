<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeLearn Pro - Programming Education Platform</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .CodeMirror {
            height: 350px;
            font-size: 14px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .CodeMirror-focused {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .error-line {
            background-color: rgba(239, 68, 68, 0.1);
        }
        .warning-line {
            background-color: rgba(245, 158, 11, 0.1);
        }
        .suggestion-popup {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .tutorial-step {
            transition: all 0.3s ease;
        }
        .tutorial-step.active {
            transform: scale(1.02);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.15);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .analysis-item {
            animation: fadeIn 0.5s ease-out;
        }
        .quality-pulse {
            animation: pulse 2s infinite;
        }
        .nav-indicator {
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            border-radius: 2px;
            transition: all 0.3s ease;
        }
        .floating-action {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 50;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="glass-effect shadow-2xl border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-6 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg">
                        <span class="text-white font-bold text-xl">üíª</span>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold gradient-text">CodeLearn Pro</h1>
                        <p class="text-sm text-gray-600">Advanced Programming Education Platform</p>
                    </div>
                </div>
                <nav class="flex space-x-2 bg-gray-100 p-1 rounded-xl">
                    <button onclick="switchTab('editor')" id="tab-editor" class="tab-btn relative px-6 py-3 rounded-lg font-medium transition-all duration-300 bg-white text-blue-600 shadow-md">
                        <span class="relative z-10">Code Editor</span>
                        <div class="nav-indicator"></div>
                    </button>
                    <button onclick="switchTab('exercises')" id="tab-exercises" class="tab-btn relative px-6 py-3 rounded-lg font-medium transition-all duration-300 text-gray-600 hover:text-blue-600 hover:bg-white hover:shadow-md">
                        <span class="relative z-10">Exercises</span>
                    </button>
                    <button onclick="switchTab('tutorials')" id="tab-tutorials" class="tab-btn relative px-6 py-3 rounded-lg font-medium transition-all duration-300 text-gray-600 hover:text-blue-600 hover:bg-white hover:shadow-md">
                        <span class="relative z-10">Tutorials</span>
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- Code Editor Tab -->
        <div id="editor-tab" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Code Editor Panel -->
                <div class="lg:col-span-2 bg-white rounded-2xl shadow-2xl p-8 card-hover border border-gray-100">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                                <span class="text-white text-sm">‚ö°</span>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-800">Smart Code Editor</h2>
                        </div>
                        <div class="flex space-x-3">
                            <select id="language-select" class="px-4 py-2 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 bg-white shadow-sm">
                                <option value="javascript">üü® JavaScript</option>
                                <option value="python">üêç Python</option>
                            </select>
                            <button onclick="analyzeCode()" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-medium">
                                üîç Analyze
                            </button>
                            <button onclick="runCode()" class="px-6 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-medium">
                                ‚ñ∂Ô∏è Run
                            </button>
                        </div>
                    </div>
                    <div class="mb-6">
                        <textarea id="code-editor" class="w-full"></textarea>
                    </div>
                    
                    <!-- Output Console -->
                    <div class="bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-6 border border-gray-200">
                        <div class="flex items-center space-x-2 mb-4">
                            <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                            <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                            <h3 class="text-lg font-semibold text-gray-700 ml-4">Output Console</h3>
                        </div>
                        <div id="output-console" class="bg-gray-900 text-green-400 p-6 rounded-xl font-mono text-sm h-36 overflow-y-auto shadow-inner border-2 border-gray-800">
                            <div class="flex items-center space-x-2 mb-2">
                                <span class="text-blue-400">$</span>
                                <span class="text-gray-400">Ready to run your code...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analysis & Debugging Panel -->
                <div class="bg-white rounded-2xl shadow-2xl p-8 card-hover border border-gray-100">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center">
                            <span class="text-white text-sm">üß†</span>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-800">AI Code Analysis</h2>
                    </div>
                    
                    <!-- Error Detection -->
                    <div class="mb-8">
                        <div class="flex items-center space-x-2 mb-4">
                            <div class="w-6 h-6 bg-red-100 rounded-full flex items-center justify-center">
                                <span class="text-red-600 text-sm">üö®</span>
                            </div>
                            <h3 class="text-lg font-semibold text-red-600">Errors</h3>
                        </div>
                        <div id="error-list" class="space-y-3 min-h-[60px] bg-red-50 rounded-xl p-4 border border-red-100">
                            <p class="text-gray-500 text-sm flex items-center space-x-2">
                                <span class="w-2 h-2 bg-green-400 rounded-full"></span>
                                <span>No errors detected</span>
                            </p>
                        </div>
                    </div>

                    <!-- Warnings -->
                    <div class="mb-8">
                        <div class="flex items-center space-x-2 mb-4">
                            <div class="w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center">
                                <span class="text-yellow-600 text-sm">‚ö†Ô∏è</span>
                            </div>
                            <h3 class="text-lg font-semibold text-yellow-600">Warnings</h3>
                        </div>
                        <div id="warning-list" class="space-y-3 min-h-[60px] bg-yellow-50 rounded-xl p-4 border border-yellow-100">
                            <p class="text-gray-500 text-sm flex items-center space-x-2">
                                <span class="w-2 h-2 bg-green-400 rounded-full"></span>
                                <span>No warnings</span>
                            </p>
                        </div>
                    </div>

                    <!-- Suggestions -->
                    <div class="mb-8">
                        <div class="flex items-center space-x-2 mb-4">
                            <div class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center">
                                <span class="text-blue-600 text-sm">üí°</span>
                            </div>
                            <h3 class="text-lg font-semibold text-blue-600">Smart Suggestions</h3>
                        </div>
                        <div id="suggestion-list" class="space-y-3 min-h-[60px] bg-blue-50 rounded-xl p-4 border border-blue-100">
                            <p class="text-gray-500 text-sm flex items-center space-x-2">
                                <span class="w-2 h-2 bg-blue-400 rounded-full animate-pulse"></span>
                                <span>Write some code to get AI suggestions</span>
                            </p>
                        </div>
                    </div>

                    <!-- Code Quality Score -->
                    <div class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 p-6 rounded-2xl border border-purple-100">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-gray-700">Code Quality Score</h3>
                            <div class="quality-pulse">
                                <span id="quality-score" class="font-bold text-2xl bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent">0%</span>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="flex-1 bg-gray-200 rounded-full h-4 shadow-inner">
                                <div id="quality-bar" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 h-4 rounded-full transition-all duration-1000 shadow-lg" style="width: 0%"></div>
                            </div>
                            <div class="flex justify-between text-xs text-gray-500 mt-2">
                                <span>Poor</span>
                                <span>Good</span>
                                <span>Excellent</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exercises Tab -->
        <div id="exercises-tab" class="tab-content hidden">
            <div class="bg-white rounded-2xl shadow-2xl p-8 card-hover border border-gray-100">
                <div class="flex items-center justify-between mb-8">
                    <div class="flex items-center space-x-4">
                        <div class="w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center">
                            <span class="text-white text-lg">üéØ</span>
                        </div>
                        <div>
                            <h2 class="text-3xl font-bold text-gray-800">Programming Exercises</h2>
                            <p class="text-gray-600">Practice with AI-generated coding challenges</p>
                        </div>
                    </div>
                    <button onclick="generateExercise()" class="px-8 py-4 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-medium text-lg">
                        üé≤ Generate New Exercise
                    </button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                    <!-- Exercise Description -->
                    <div class="space-y-6">
                        <div class="bg-gradient-to-br from-purple-50 via-pink-50 to-indigo-50 p-8 rounded-2xl border border-purple-100 shadow-lg">
                            <h3 class="text-2xl font-bold text-purple-700 mb-4" id="exercise-title">Welcome to CodeLearn Pro!</h3>
                            <p class="text-gray-700 mb-6 leading-relaxed text-lg" id="exercise-description">Click "Generate New Exercise" to start practicing with automatically generated coding challenges tailored to your skill level.</p>
                            <div class="flex items-center space-x-4">
                                <span class="px-4 py-2 bg-purple-200 text-purple-800 rounded-full text-sm font-semibold shadow-sm" id="exercise-difficulty">Beginner</span>
                                <span class="px-4 py-2 bg-blue-200 text-blue-800 rounded-full text-sm font-semibold shadow-sm" id="exercise-topic">Getting Started</span>
                            </div>
                        </div>

                        <!-- Example Input/Output -->
                        <div id="exercise-examples" class="space-y-4">
                            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                                <h4 class="font-semibold text-gray-700 mb-3 flex items-center space-x-2">
                                    <span class="w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center">
                                        <span class="text-blue-600 text-xs">üìù</span>
                                    </span>
                                    <span>Ready to start coding?</span>
                                </h4>
                                <p class="text-gray-600">Generate your first exercise to see examples and test cases here.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise Solution Area -->
                    <div class="space-y-6">
                        <div class="bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-2xl border border-gray-200">
                            <h3 class="text-xl font-semibold text-gray-700 mb-4 flex items-center space-x-2">
                                <span class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center">
                                    <span class="text-green-600 text-sm">üíª</span>
                                </span>
                                <span>Your Solution</span>
                            </h3>
                            <textarea id="exercise-editor" class="w-full h-80 p-6 border-2 border-gray-200 rounded-xl font-mono text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300 bg-white shadow-sm resize-none" placeholder="// Write your solution here...
// Example:
function solve() {
    // Your code goes here
    return result;
}"></textarea>
                        </div>
                        
                        <div class="flex space-x-4">
                            <button onclick="testSolution()" class="flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-medium">
                                ‚úÖ Test Solution
                            </button>
                            <button onclick="getHint()" class="flex-1 px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 text-white rounded-xl hover:from-yellow-600 hover:to-yellow-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-medium">
                                üí° Get Hint
                            </button>
                        </div>

                        <!-- Test Results -->
                        <div id="test-results" class="p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-100 hidden">
                            <h4 class="font-semibold text-gray-700 mb-4 flex items-center space-x-2">
                                <span class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center">
                                    <span class="text-blue-600 text-sm">üìä</span>
                                </span>
                                <span>Test Results</span>
                            </h4>
                            <div id="test-output" class="bg-white p-4 rounded-xl border border-blue-200"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tutorials Tab -->
        <div id="tutorials-tab" class="tab-content hidden">
            <div class="bg-white rounded-2xl shadow-2xl p-8 card-hover border border-gray-100">
                <div class="flex items-center space-x-4 mb-8">
                    <div class="w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center">
                        <span class="text-white text-2xl">üéì</span>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800">Interactive Tutorials</h2>
                        <p class="text-gray-600">Step-by-step guided learning experiences</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Tutorial Cards -->
                    <div class="tutorial-card bg-gradient-to-br from-blue-50 via-blue-100 to-blue-200 p-8 rounded-2xl border border-blue-200 cursor-pointer card-hover shadow-lg" onclick="startTutorial('variables')">
                        <div class="text-5xl mb-4 text-center">üì¶</div>
                        <h3 class="text-xl font-bold text-blue-800 mb-3">Variables & Data Types</h3>
                        <p class="text-gray-700 text-sm mb-4 leading-relaxed">Learn how to store and manipulate data in your programs with different variable types.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-blue-300 text-blue-900 px-3 py-1 rounded-full font-semibold">Beginner</span>
                            <span class="text-xs text-gray-600 font-medium">‚è±Ô∏è 15 min</span>
                        </div>
                    </div>

                    <div class="tutorial-card bg-gradient-to-br from-green-50 via-green-100 to-green-200 p-8 rounded-2xl border border-green-200 cursor-pointer card-hover shadow-lg" onclick="startTutorial('functions')">
                        <div class="text-5xl mb-4 text-center">‚öôÔ∏è</div>
                        <h3 class="text-xl font-bold text-green-800 mb-3">Functions</h3>
                        <p class="text-gray-700 text-sm mb-4 leading-relaxed">Create reusable blocks of code with functions and parameters to organize your programs.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-green-300 text-green-900 px-3 py-1 rounded-full font-semibold">Intermediate</span>
                            <span class="text-xs text-gray-600 font-medium">‚è±Ô∏è 20 min</span>
                        </div>
                    </div>

                    <div class="tutorial-card bg-gradient-to-br from-purple-50 via-purple-100 to-purple-200 p-8 rounded-2xl border border-purple-200 cursor-pointer card-hover shadow-lg" onclick="startTutorial('loops')">
                        <div class="text-5xl mb-4 text-center">üîÑ</div>
                        <h3 class="text-xl font-bold text-purple-800 mb-3">Loops & Iteration</h3>
                        <p class="text-gray-700 text-sm mb-4 leading-relaxed">Master for loops, while loops, and iteration patterns to automate repetitive tasks.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-purple-300 text-purple-900 px-3 py-1 rounded-full font-semibold">Intermediate</span>
                            <span class="text-xs text-gray-600 font-medium">‚è±Ô∏è 25 min</span>
                        </div>
                    </div>

                    <div class="tutorial-card bg-gradient-to-br from-red-50 via-red-100 to-red-200 p-8 rounded-2xl border border-red-200 cursor-pointer card-hover shadow-lg" onclick="startTutorial('arrays')">
                        <div class="text-5xl mb-4 text-center">üìã</div>
                        <h3 class="text-xl font-bold text-red-800 mb-3">Arrays & Lists</h3>
                        <p class="text-gray-700 text-sm mb-4 leading-relaxed">Work with collections of data using arrays and lists to manage multiple values.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-red-300 text-red-900 px-3 py-1 rounded-full font-semibold">Beginner</span>
                            <span class="text-xs text-gray-600 font-medium">‚è±Ô∏è 18 min</span>
                        </div>
                    </div>

                    <div class="tutorial-card bg-gradient-to-br from-yellow-50 via-yellow-100 to-yellow-200 p-8 rounded-2xl border border-yellow-200 cursor-pointer card-hover shadow-lg" onclick="startTutorial('conditionals')">
                        <div class="text-5xl mb-4 text-center">ü§î</div>
                        <h3 class="text-xl font-bold text-yellow-800 mb-3">Conditionals</h3>
                        <p class="text-gray-700 text-sm mb-4 leading-relaxed">Make decisions in your code with if statements and logical operators.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-yellow-300 text-yellow-900 px-3 py-1 rounded-full font-semibold">Beginner</span>
                            <span class="text-xs text-gray-600 font-medium">‚è±Ô∏è 12 min</span>
                        </div>
                    </div>

                    <div class="tutorial-card bg-gradient-to-br from-indigo-50 via-indigo-100 to-indigo-200 p-8 rounded-2xl border border-indigo-200 cursor-pointer card-hover shadow-lg" onclick="startTutorial('objects')">
                        <div class="text-5xl mb-4 text-center">üèóÔ∏è</div>
                        <h3 class="text-xl font-bold text-indigo-800 mb-3">Objects & Classes</h3>
                        <p class="text-gray-700 text-sm mb-4 leading-relaxed">Organize your code with objects and object-oriented programming concepts.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-indigo-300 text-indigo-900 px-3 py-1 rounded-full font-semibold">Advanced</span>
                            <span class="text-xs text-gray-600 font-medium">‚è±Ô∏è 30 min</span>
                        </div>
                    </div>
                </div>

                <!-- Active Tutorial Display -->
                <div id="active-tutorial" class="mt-10 hidden">
                    <div class="bg-gradient-to-br from-blue-500 via-purple-600 to-indigo-700 text-white p-10 rounded-3xl shadow-2xl border border-blue-300">
                        <div class="flex items-center space-x-4 mb-6">
                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center">
                                <span class="text-2xl">üéØ</span>
                            </div>
                            <h3 class="text-3xl font-bold" id="tutorial-title">Tutorial Title</h3>
                        </div>
                        
                        <div class="bg-white bg-opacity-10 rounded-2xl p-6 mb-8">
                            <div class="flex items-center justify-between mb-4">
                                <span id="tutorial-progress" class="text-lg font-medium opacity-90">Step 1 of 5</span>
                                <span class="text-sm opacity-75">Interactive Learning</span>
                            </div>
                            <div class="bg-white bg-opacity-20 rounded-full h-3 shadow-inner">
                                <div id="tutorial-progress-bar" class="bg-gradient-to-r from-yellow-400 to-orange-500 h-3 rounded-full transition-all duration-500 shadow-lg" style="width: 20%"></div>
                            </div>
                        </div>
                        
                        <div class="bg-white bg-opacity-10 rounded-2xl p-8 mb-8">
                            <p id="tutorial-content" class="text-xl leading-relaxed">Tutorial content will appear here...</p>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <button onclick="previousStep()" id="prev-btn" class="px-8 py-4 bg-white bg-opacity-20 text-white rounded-xl hover:bg-opacity-30 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-lg" disabled>
                                ‚Üê Previous Step
                            </button>
                            <div class="flex space-x-3">
                                <button onclick="document.getElementById('active-tutorial').classList.add('hidden')" class="px-6 py-4 bg-red-500 bg-opacity-80 text-white rounded-xl hover:bg-opacity-100 transition-all duration-300 font-medium">
                                    Exit Tutorial
                                </button>
                                <button onclick="nextStep()" id="next-btn" class="px-8 py-4 bg-white text-blue-600 rounded-xl hover:bg-gray-100 transition-all duration-300 font-medium text-lg shadow-lg">
                                    Next Step ‚Üí
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Help Button -->
    <div class="floating-action">
        <button onclick="showHelp()" class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-110 transition-all duration-300 flex items-center justify-center">
            <span class="text-2xl">üí°</span>
        </button>
    </div>

    <!-- Help Modal -->
    <div id="help-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-gray-800">üöÄ Quick Start Guide</h3>
                <button onclick="hideHelp()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button>
            </div>
            <div class="space-y-6">
                <div class="bg-blue-50 p-4 rounded-xl border border-blue-200">
                    <h4 class="font-semibold text-blue-800 mb-2">üìù Code Editor</h4>
                    <p class="text-gray-700 text-sm">Write code, analyze it for errors, and run it instantly. Switch between JavaScript and Python.</p>
                </div>
                <div class="bg-purple-50 p-4 rounded-xl border border-purple-200">
                    <h4 class="font-semibold text-purple-800 mb-2">üéØ Exercises</h4>
                    <p class="text-gray-700 text-sm">Generate random coding challenges, solve them, and get instant feedback on your solutions.</p>
                </div>
                <div class="bg-green-50 p-4 rounded-xl border border-green-200">
                    <h4 class="font-semibold text-green-800 mb-2">üéì Tutorials</h4>
                    <p class="text-gray-700 text-sm">Follow step-by-step interactive tutorials to learn programming concepts from basics to advanced.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let codeEditor;
        let currentTutorial = null;
        let currentStep = 0;
        let currentExercise = null;

        // Initialize CodeMirror
        document.addEventListener('DOMContentLoaded', function() {
            codeEditor = CodeMirror.fromTextArea(document.getElementById('code-editor'), {
                mode: 'javascript',
                theme: 'monokai',
                lineNumbers: true,
                autoCloseBrackets: true,
                matchBrackets: true,
                indentUnit: 2,
                tabSize: 2
            });

            // Set initial code
            codeEditor.setValue(`// Welcome to CodeLearn Pro!
// Try writing some JavaScript code here

function greetUser(name) {
    console.log("Hello, " + name + "!");
    return "Welcome to coding!";
}

// Call the function
greetUser("Programmer");

// Try creating a variable
let myAge = 25;
console.log("I am " + myAge + " years old");`);

            // Language selector change
            document.getElementById('language-select').addEventListener('change', function() {
                const language = this.value;
                codeEditor.setOption('mode', language);
                
                if (language === 'python') {
                    codeEditor.setValue(`# Welcome to CodeLearn Pro!
# Try writing some Python code here

def greet_user(name):
    print(f"Hello, {name}!")
    return "Welcome to coding!"

# Call the function
greet_user("Programmer")

# Try creating a variable
my_age = 25
print(f"I am {my_age} years old")`);
                } else {
                    codeEditor.setValue(`// Welcome to CodeLearn Pro!
// Try writing some JavaScript code here

function greetUser(name) {
    console.log("Hello, " + name + "!");
    return "Welcome to coding!";
}

// Call the function
greetUser("Programmer");

// Try creating a variable
let myAge = 25;
console.log("I am " + myAge + " years old");`);
                }
            });
        });

        // Tab switching with enhanced animations
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('bg-white', 'text-blue-600', 'shadow-md');
                btn.classList.add('text-gray-600', 'hover:text-blue-600', 'hover:bg-white', 'hover:shadow-md');
            });
            
            // Show selected tab with animation
            const selectedTab = document.getElementById(tabName + '-tab');
            selectedTab.classList.remove('hidden');
            selectedTab.style.opacity = '0';
            selectedTab.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                selectedTab.style.transition = 'all 0.3s ease';
                selectedTab.style.opacity = '1';
                selectedTab.style.transform = 'translateY(0)';
            }, 10);
            
            // Add active class to selected tab button
            const activeBtn = document.getElementById('tab-' + tabName);
            activeBtn.classList.add('bg-white', 'text-blue-600', 'shadow-md');
            activeBtn.classList.remove('text-gray-600', 'hover:text-blue-600', 'hover:bg-white', 'hover:shadow-md');
        }

        // Code analysis function
        function analyzeCode() {
            const code = codeEditor.getValue();
            const language = document.getElementById('language-select').value;
            
            // Clear previous analysis
            document.getElementById('error-list').innerHTML = '';
            document.getElementById('warning-list').innerHTML = '';
            document.getElementById('suggestion-list').innerHTML = '';
            
            // Simple code analysis (in a real app, this would use proper parsers)
            const errors = [];
            const warnings = [];
            const suggestions = [];
            
            if (language === 'javascript') {
                // Check for common JavaScript issues
                if (code.includes('var ')) {
                    warnings.push({
                        line: getLineNumber(code, 'var '),
                        message: "Consider using 'let' or 'const' instead of 'var'"
                    });
                }
                
                if (code.includes('==') && !code.includes('===')) {
                    suggestions.push({
                        line: getLineNumber(code, '=='),
                        message: "Use '===' for strict equality comparison"
                    });
                }
                
                if (!code.includes('function') && !code.includes('=>')) {
                    suggestions.push({
                        line: 1,
                        message: "Try creating a function to organize your code"
                    });
                }
                
                // Check for syntax errors (basic)
                const openBraces = (code.match(/{/g) || []).length;
                const closeBraces = (code.match(/}/g) || []).length;
                if (openBraces !== closeBraces) {
                    errors.push({
                        line: code.split('\n').length,
                        message: "Mismatched braces - check your { and } brackets"
                    });
                }
            } else if (language === 'python') {
                // Check for common Python issues
                if (code.includes('\t') && code.includes('    ')) {
                    warnings.push({
                        line: 1,
                        message: "Mixed tabs and spaces - use consistent indentation"
                    });
                }
                
                if (!code.includes('def ')) {
                    suggestions.push({
                        line: 1,
                        message: "Try creating a function with 'def function_name():'"
                    });
                }
            }
            
            // Display results
            displayAnalysisResults(errors, warnings, suggestions);
            updateQualityScore(errors, warnings, code);
        }

        function getLineNumber(code, searchText) {
            const lines = code.split('\n');
            for (let i = 0; i < lines.length; i++) {
                if (lines[i].includes(searchText)) {
                    return i + 1;
                }
            }
            return 1;
        }

        function displayAnalysisResults(errors, warnings, suggestions) {
            const errorList = document.getElementById('error-list');
            const warningList = document.getElementById('warning-list');
            const suggestionList = document.getElementById('suggestion-list');
            
            if (errors.length === 0) {
                errorList.innerHTML = `
                    <div class="flex items-center space-x-3 analysis-item">
                        <span class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></span>
                        <span class="text-gray-600 text-sm">No errors detected - Great job! ‚úÖ</span>
                    </div>`;
            } else {
                errorList.innerHTML = errors.map((error, index) => 
                    `<div class="analysis-item bg-white border border-red-200 p-4 rounded-xl shadow-sm" style="animation-delay: ${index * 0.1}s">
                        <div class="flex items-start space-x-3">
                            <div class="w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                <span class="text-red-600 text-xs">‚ö†Ô∏è</span>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-red-800">Line ${error.line}</p>
                                <p class="text-sm text-red-700 mt-1">${error.message}</p>
                            </div>
                        </div>
                    </div>`
                ).join('');
            }
            
            if (warnings.length === 0) {
                warningList.innerHTML = `
                    <div class="flex items-center space-x-3 analysis-item">
                        <span class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></span>
                        <span class="text-gray-600 text-sm">No warnings - Code looks clean! üéâ</span>
                    </div>`;
            } else {
                warningList.innerHTML = warnings.map((warning, index) => 
                    `<div class="analysis-item bg-white border border-yellow-200 p-4 rounded-xl shadow-sm" style="animation-delay: ${index * 0.1}s">
                        <div class="flex items-start space-x-3">
                            <div class="w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                <span class="text-yellow-600 text-xs">‚ö†Ô∏è</span>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-yellow-800">Line ${warning.line}</p>
                                <p class="text-sm text-yellow-700 mt-1">${warning.message}</p>
                            </div>
                        </div>
                    </div>`
                ).join('');
            }
            
            if (suggestions.length === 0) {
                suggestionList.innerHTML = `
                    <div class="flex items-center space-x-3 analysis-item">
                        <span class="w-3 h-3 bg-blue-400 rounded-full animate-pulse"></span>
                        <span class="text-gray-600 text-sm">Excellent code! No suggestions needed üåü</span>
                    </div>`;
            } else {
                suggestionList.innerHTML = suggestions.map((suggestion, index) => 
                    `<div class="analysis-item bg-white border border-blue-200 p-4 rounded-xl shadow-sm" style="animation-delay: ${index * 0.1}s">
                        <div class="flex items-start space-x-3">
                            <div class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                <span class="text-blue-600 text-xs">üí°</span>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-blue-800">Line ${suggestion.line}</p>
                                <p class="text-sm text-blue-700 mt-1">${suggestion.message}</p>
                            </div>
                        </div>
                    </div>`
                ).join('');
            }
        }

        function updateQualityScore(errors, warnings, code) {
            let score = 100;
            
            // Deduct points for errors and warnings
            score -= errors.length * 20;
            score -= warnings.length * 10;
            
            // Add points for good practices
            if (code.includes('function') || code.includes('def ')) score += 10;
            if (code.includes('//') || code.includes('#')) score += 5; // Comments
            if (code.length > 50) score += 5; // Substantial code
            
            score = Math.max(0, Math.min(100, score));
            
            document.getElementById('quality-score').textContent = score + '%';
            document.getElementById('quality-bar').style.width = score + '%';
            
            // Change color based on score
            const bar = document.getElementById('quality-bar');
            if (score >= 80) {
                bar.className = 'bg-gradient-to-r from-green-400 to-green-500 h-3 rounded-full transition-all duration-500';
            } else if (score >= 60) {
                bar.className = 'bg-gradient-to-r from-yellow-400 to-yellow-500 h-3 rounded-full transition-all duration-500';
            } else {
                bar.className = 'bg-gradient-to-r from-red-400 to-red-500 h-3 rounded-full transition-all duration-500';
            }
        }

        // Run code function
        function runCode() {
            const code = codeEditor.getValue();
            const language = document.getElementById('language-select').value;
            const console = document.getElementById('output-console');
            
            console.innerHTML = '';
            
            if (language === 'javascript') {
                try {
                    // Capture console.log output
                    const originalLog = console.log;
                    const outputs = [];
                    
                    // Override console.log temporarily
                    window.console.log = function(...args) {
                        outputs.push(args.join(' '));
                    };
                    
                    // Execute the code
                    eval(code);
                    
                    // Restore original console.log
                    window.console.log = originalLog;
                    
                    // Display output
                    if (outputs.length > 0) {
                        document.getElementById('output-console').innerHTML = outputs.map(output => 
                            `<div class="mb-1">> ${output}</div>`
                        ).join('');
                    } else {
                        document.getElementById('output-console').innerHTML = '<div class="text-blue-400">Code executed successfully (no output)</div>';
                    }
                } catch (error) {
                    document.getElementById('output-console').innerHTML = `<div class="text-red-400">Error: ${error.message}</div>`;
                }
            } else {
                document.getElementById('output-console').innerHTML = '<div class="text-yellow-400">Python execution not available in this demo. Try JavaScript!</div>';
            }
        }

        // Exercise generation
        const exercises = [
            {
                title: "Sum of Two Numbers",
                description: "Write a function that takes two numbers and returns their sum.",
                difficulty: "Beginner",
                topic: "Functions",
                examples: [
                    { input: "add(2, 3)", output: "5" },
                    { input: "add(-1, 1)", output: "0" }
                ],
                hint: "Use the + operator to add the two parameters together."
            },
            {
                title: "Even or Odd",
                description: "Create a function that determines if a number is even or odd.",
                difficulty: "Beginner",
                topic: "Conditionals",
                examples: [
                    { input: "isEven(4)", output: "true" },
                    { input: "isEven(7)", output: "false" }
                ],
                hint: "Use the modulo operator (%) to check if a number is divisible by 2."
            },
            {
                title: "Array Maximum",
                description: "Write a function that finds the largest number in an array.",
                difficulty: "Intermediate",
                topic: "Arrays",
                examples: [
                    { input: "findMax([1, 5, 3, 9, 2])", output: "9" },
                    { input: "findMax([-1, -5, -2])", output: "-1" }
                ],
                hint: "You can use Math.max() with the spread operator, or loop through the array."
            },
            {
                title: "String Reverser",
                description: "Create a function that reverses a string.",
                difficulty: "Intermediate",
                topic: "Strings",
                examples: [
                    { input: "reverseString('hello')", output: "'olleh'" },
                    { input: "reverseString('JavaScript')", output: "'tpircSavaJ'" }
                ],
                hint: "Convert the string to an array, reverse it, then join it back to a string."
            },
            {
                title: "Factorial Calculator",
                description: "Write a function that calculates the factorial of a number.",
                difficulty: "Advanced",
                topic: "Recursion",
                examples: [
                    { input: "factorial(5)", output: "120" },
                    { input: "factorial(0)", output: "1" }
                ],
                hint: "Remember that factorial(n) = n * factorial(n-1), and factorial(0) = 1."
            }
        ];

        function generateExercise() {
            currentExercise = exercises[Math.floor(Math.random() * exercises.length)];
            
            document.getElementById('exercise-title').textContent = currentExercise.title;
            document.getElementById('exercise-description').textContent = currentExercise.description;
            document.getElementById('exercise-difficulty').textContent = currentExercise.difficulty;
            document.getElementById('exercise-topic').textContent = currentExercise.topic;
            
            // Display examples
            const examplesContainer = document.getElementById('exercise-examples');
            examplesContainer.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-gray-700 mb-2">Examples:</h4>
                    ${currentExercise.examples.map(example => 
                        `<div class="mb-2">
                            <code class="text-sm bg-white px-2 py-1 rounded border">${example.input}</code>
                            <span class="mx-2">‚Üí</span>
                            <code class="text-sm bg-green-50 text-green-700 px-2 py-1 rounded border">${example.output}</code>
                        </div>`
                    ).join('')}
                </div>
            `;
            
            // Clear previous solution
            document.getElementById('exercise-editor').value = '';
            document.getElementById('test-results').classList.add('hidden');
        }

        function testSolution() {
            const solution = document.getElementById('exercise-editor').value;
            const resultsContainer = document.getElementById('test-results');
            const outputContainer = document.getElementById('test-output');
            
            if (!solution.trim()) {
                outputContainer.innerHTML = '<div class="text-red-600">Please write a solution first!</div>';
                resultsContainer.classList.remove('hidden');
                return;
            }
            
            try {
                // This is a simplified test - in a real app, you'd have proper test cases
                eval(solution);
                
                let passed = 0;
                let total = currentExercise.examples.length;
                
                outputContainer.innerHTML = `
                    <div class="text-green-600 font-semibold mb-2">‚úÖ Code executed successfully!</div>
                    <div class="text-sm text-gray-600">
                        In a full implementation, this would run ${total} test cases against your solution.
                        <br>For now, make sure your function matches the expected examples above.
                    </div>
                `;
                
                resultsContainer.classList.remove('hidden');
            } catch (error) {
                outputContainer.innerHTML = `<div class="text-red-600">‚ùå Error: ${error.message}</div>`;
                resultsContainer.classList.remove('hidden');
            }
        }

        function getHint() {
            if (currentExercise) {
                alert(`üí° Hint: ${currentExercise.hint}`);
            } else {
                alert('Generate an exercise first to get hints!');
            }
        }

        // Tutorial system
        const tutorials = {
            variables: {
                title: "Variables & Data Types",
                steps: [
                    "Variables are containers that store data values. In JavaScript, you can create variables using 'let', 'const', or 'var'.",
                    "Let's create your first variable: let message = 'Hello World'; This creates a variable called 'message' that stores text.",
                    "Numbers are stored the same way: let age = 25; JavaScript automatically knows this is a number.",
                    "You can change variables created with 'let': age = 26; But variables created with 'const' cannot be changed.",
                    "Great job! You now understand how to create and use variables to store different types of data."
                ]
            },
            functions: {
                title: "Functions",
                steps: [
                    "Functions are reusable blocks of code that perform specific tasks. They help organize your code and avoid repetition.",
                    "Here's how to create a function: function greet(name) { return 'Hello ' + name; }",
                    "The word 'function' starts the definition, 'greet' is the name, and 'name' is a parameter.",
                    "To use (or 'call') the function: let greeting = greet('Alice'); This stores 'Hello Alice' in the greeting variable.",
                    "Functions can take multiple parameters and perform complex operations. They're essential for organizing code!"
                ]
            },
            loops: {
                title: "Loops & Iteration",
                steps: [
                    "Loops let you repeat code multiple times. This is much more efficient than writing the same code over and over.",
                    "A 'for' loop repeats a specific number of times: for (let i = 0; i < 5; i++) { console.log(i); }",
                    "This loop prints numbers 0 through 4. The 'i++' increases i by 1 each time through the loop.",
                    "A 'while' loop continues as long as a condition is true: while (count < 10) { count++; }",
                    "Loops are powerful tools for processing lists of data and automating repetitive tasks!"
                ]
            },
            arrays: {
                title: "Arrays & Lists",
                steps: [
                    "Arrays store multiple values in a single variable. Think of them as lists of items.",
                    "Create an array like this: let fruits = ['apple', 'banana', 'orange']; The square brackets define the array.",
                    "Access items by their position (starting from 0): fruits[0] gives you 'apple', fruits[1] gives you 'banana'.",
                    "Add items with push(): fruits.push('grape'); Remove items with pop(): fruits.pop();",
                    "Arrays are perfect for storing collections of related data like shopping lists, scores, or user names!"
                ]
            },
            conditionals: {
                title: "Conditionals",
                steps: [
                    "Conditionals let your program make decisions based on different situations.",
                    "The 'if' statement checks a condition: if (age >= 18) { console.log('You can vote!'); }",
                    "Add 'else' for alternative actions: if (weather === 'sunny') { goOutside(); } else { stayInside(); }",
                    "Use 'else if' for multiple conditions: if (score >= 90) { grade = 'A'; } else if (score >= 80) { grade = 'B'; }",
                    "Conditionals make your programs smart by responding differently to different inputs and situations!"
                ]
            },
            objects: {
                title: "Objects & Classes",
                steps: [
                    "Objects group related data and functions together. They represent real-world things in your code.",
                    "Create an object: let person = { name: 'John', age: 30, city: 'New York' }; Use curly braces and key-value pairs.",
                    "Access object properties: person.name gives you 'John', person.age gives you 30.",
                    "Objects can contain functions (called methods): person.greet = function() { return 'Hi, I am ' + this.name; }",
                    "Objects help organize complex data and are fundamental to modern programming. Great work learning about them!"
                ]
            }
        };

        function startTutorial(tutorialName) {
            currentTutorial = tutorials[tutorialName];
            currentStep = 0;
            
            document.getElementById('active-tutorial').classList.remove('hidden');
            document.getElementById('tutorial-title').textContent = currentTutorial.title;
            
            updateTutorialStep();
        }

        function updateTutorialStep() {
            const totalSteps = currentTutorial.steps.length;
            const progress = ((currentStep + 1) / totalSteps) * 100;
            
            document.getElementById('tutorial-progress').textContent = `Step ${currentStep + 1} of ${totalSteps}`;
            document.getElementById('tutorial-progress-bar').style.width = progress + '%';
            document.getElementById('tutorial-content').textContent = currentTutorial.steps[currentStep];
            
            // Update button states
            document.getElementById('prev-btn').disabled = currentStep === 0;
            document.getElementById('next-btn').textContent = currentStep === totalSteps - 1 ? 'Complete!' : 'Next ‚Üí';
        }

        function nextStep() {
            if (currentStep < currentTutorial.steps.length - 1) {
                currentStep++;
                updateTutorialStep();
            } else {
                // Tutorial completed
                alert('üéâ Congratulations! You completed the tutorial!');
                document.getElementById('active-tutorial').classList.add('hidden');
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                updateTutorialStep();
            }
        }

        // Help modal functions
        function showHelp() {
            document.getElementById('help-modal').classList.remove('hidden');
        }

        function hideHelp() {
            document.getElementById('help-modal').classList.add('hidden');
        }

        // Close modal when clicking outside
        document.getElementById('help-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideHelp();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e6a59551da9f47',t:'MTc1Nzc1NjA0Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
